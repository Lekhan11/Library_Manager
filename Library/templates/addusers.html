{% extends 'base.html' %}
{% block title %}Add Users{% endblock %}
{% block content %}
<div>
  <div class="card border-primary" style="margin:10px;">
    <div class="card-header ">
      <h3 class="text-black text-center">ADD USERS</h3>
    </div>
    <div class="card-body p-5">
      <form method="POST" action="">
        {% csrf_token %}
        {% if messages %}
        <div class="alert alert-info alert-dismissible fade show" role="alert">
          {% for message in messages %}
          <p>{{ message }}</p>
          {% endfor %}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %}
        
        <div class="mb-3">
          <label for="name" class="form-label">Name :</label>
          <input type="text" class="form-control" id="name" name="name">
        </div>

        <!-- Role Selection (Select Dropdown) -->
        <div class="mb-3">
          <label for="role" class="form-label">Role:</label>
          <select name="role" id="role" class="form-select" onchange="document.getElementById('studentFields').classList.toggle('show', this.value === 'student'); document.getElementById('teacherFields').classList.toggle('show', this.value === 'teacher');">
            <option value="" disabled selected>Select Role</option>
            <option value="student" >Student</option>
            <option value="teacher">Teacher</option>
          </select>
        </div>

        <!-- Student Fields (Initially Hidden) -->
        <div id="studentFields" class="collapse">
          <div class="mb-3">
            <label for="class_id" class="form-label">Class :</label>
            <select class="form-select" aria-label="Default select example" name="class_id" >
              <option selected disabled>Select The Class</option>
              <option value="1">1st</option>
              <option value="2">2nd</option>
              <option value="3">3rd</option>
              <option value="4">4th</option>
              <option value="5">5th</option>
              <option value="6">6th</option>
              <option value="7">7th</option>
              <option value="8">8th</option>
              <option value="9">9th</option>
              <option value="10">10th</option>
              <option value="11">11th</option>
              <option value="12">12th</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="section" class="form-label">Section :</label>
            <input type="text" class="form-control" id="section" name="section">
          </div>

          <div class="mb-3">
            <label for="roll_no" class="form-label">Roll No :</label>
            <input type="text" class="form-control" id="roll_no" name="roll_no" >
          </div>
        </div>

        <!-- Teacher Fields (Initially Hidden) -->
        <div id="teacherFields" class="collapse">
          <div class="mb-3">
            <label for="teacher_id" class="form-label">Teacher ID :</label>
            <input type="text" class="form-control" id="teacher_id" name="teacher_id" >
          </div>
          <div class="mb-3">
            <label for="department" class="form-label">Department :</label>
            <input type="text" class="form-control" id="department" name="department" >
          </div>
        </div>

        <div class="d-flex justify-content-center m-2">
          <button type="submit" class="btn btn-primary">Add User</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
